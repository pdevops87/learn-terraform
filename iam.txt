IAM role:
=========
Terraform is a tool that can create a server or VM or nodes (infrastructure) , aws provides the permission (sts:Assumerole).
iam role grants the permission to create a service in an aws service
Terraform wants to create resources (e.g., EC2).

Terraform assumes an IAM role (permission granted via sts:AssumeRole).

The role’s policies allow Terraform to perform actions on AWS services (like creating EC2, S3, etc.).

Trust Policy:
=============
{
  "Effect": "Allow",
  "Principal": {
    "Service": "ec2.amazonaws.com"
  },
  "Action": "sts:AssumeRole"
}

Permission Policy:
=================
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "ec2:RunInstances",
        "ec2:TerminateInstances"
      ],
      "Resource": "*"
    }
  ]
}

"trust and permission policy both are different"

Role = toolbox
Trust policy = who is allowed to pick up the toolbox (EC2 service, Terraform, user)
Permissions policy = the tools inside the toolbox (create EC2 instances, access S3, etc.)
Assuming a role means that a principal (user, EC2 instance, Lambda, Terraform, etc.) temporarily takes on the permissions defined in the

1. create an iam role

2.attach trust policy to iam role

Specifies who (the principal) can assume the role.
Example: EC2 service (ec2.amazonaws.com).

3. attach permission policy to iam role

Defines what actions the role can perform once assumed.
Example: ec2:RunInstances, ec2:TerminateInstances.

4.trust policy(principal) allows sts:AssumeRole
Grants the principal the ability to temporarily assume the role.

5. Assume role means permissions defined in permission policy what actions to be performed
When the principal assumes the role, it temporarily gets the permissions defined in the role’s permission policy.

Only the actions in the permission policy can be performed; nothing else.


